
>ğŸ¤µ: Jin OuYang
:email:: ouyangjin334@gmail.com
:timer_clock:: 2022-05-11 15:45:35
:book:: Git å­¦ä¹ ç¬”è®°

ä»€ä¹ˆæ˜¯Git?
[wiki](https://zh.wikipedia.org/wiki/Git) ğŸ‘
[google](https://git-scm.com/) ğŸ‘

### å®‰è£…GIT(ç•¥)
### ä»“åº“ç»‘å®š

1. ç”Ÿæˆ.sshæ–‡ä»¶
`ssh-keygen -t rsa`
2. è¿›å…¥.sshæ–‡ä»¶ä¸­ï¼Œå°†è¯¥æ–‡ä»¶å†…å®¹æ‹·è´è‡³ [github](https://github.com/ayjin-dev/)
`copy id_rsa.pub`
3. æ£€æŸ¥æ˜¯å¦è¿æ¥æˆåŠŸï¼Œå¦‚ä¸‹å›¾å³æˆåŠŸé“¾æ¥
`ssh -T git@github.com` 
![ssh](./img/git_img/ssh_T.png)


### Gitæ¨¡å‹
![Gitæ¨¡å‹](./img/git_img/git_map.png)
Remote Directory è¿œç¨‹ä»“åº“ï¼Œå³Github Repo
History æœ¬åœ°ä»“åº“ï¼Œè¿˜æ²¡Pushåˆ°è¿œç¨‹ä»“åº“
Stage(Index) å³æš‚å­˜åŒºï¼Œè¿˜æ²¡commitåˆ°æœ¬åœ°ä»“åº“
Working Directory å³ä½ æœ¬åœ°ä»£ç å­˜æ”¾çš„æ–‡ä»¶å¤¹
![git model](./img/git_img/git_map_b.png)

æ‰€ä»¥æˆ‘ä»¬çš„å·¥ä½œæµç¨‹å°±æ˜¯ï¼Œä¹Ÿå°±å¯¹åº”ç€æ–‡ä»¶æ‹¥æœ‰å››ç§çŠ¶æ€:
1. åˆ›å»ºæ–‡ä»¶ï¼Œåœ¨Workingä¸­Coding | filestauts:Untracked
2. ç„¶åç»™åˆ°æš‚å­˜åŒº`git add .` filestauts:Untracked -> Modified
3. å†ä¸Šä¼ åˆ°æœ¬åœ°ä»“åº“`git commit` filestauts:Modified -> Staged
4. ä¸Šä¼ åˆ°Github`git push` filestauts:Staged

æ–‡ä»¶çš„å››ç§çŠ¶æ€
* Untracked: æœªè·Ÿè¸ª, æ­¤æ–‡ä»¶åœ¨æ–‡ä»¶å¤¹ä¸­, ä½†å¹¶æ²¡æœ‰åŠ å…¥åˆ°gitåº“, ä¸å‚ä¸ç‰ˆæœ¬æ§åˆ¶. é€šè¿‡git add çŠ¶æ€å˜ä¸ºStaged.
* Unmodify: æ–‡ä»¶å·²ç»å…¥åº“, æœªä¿®æ”¹, å³ç‰ˆæœ¬åº“ä¸­çš„æ–‡ä»¶å¿«ç…§å†…å®¹ä¸æ–‡ä»¶å¤¹ä¸­å®Œå…¨ä¸€è‡´. è¿™ç§ç±»å‹çš„æ–‡ä»¶æœ‰ä¸¤ç§å»å¤„, å¦‚æœå®ƒè¢«ä¿®æ”¹, è€Œå˜ä¸ºModified. å¦‚æœä½¿ç”¨git rmç§»å‡ºç‰ˆæœ¬åº“, åˆ™æˆä¸ºUntrackedæ–‡ä»¶
* Modified: æ–‡ä»¶å·²ä¿®æ”¹, ä»…ä»…æ˜¯ä¿®æ”¹, å¹¶æ²¡æœ‰è¿›è¡Œå…¶ä»–çš„æ“ä½œ. è¿™ä¸ªæ–‡ä»¶ä¹Ÿæœ‰ä¸¤ä¸ªå»å¤„, é€šè¿‡git addå¯è¿›å…¥æš‚å­˜stagedçŠ¶æ€, ä½¿ç”¨git checkout åˆ™ä¸¢å¼ƒä¿®æ”¹è¿‡, è¿”å›åˆ°unmodifyçŠ¶æ€, è¿™ä¸ªgit checkoutå³ä»åº“ä¸­å–å‡ºæ–‡ä»¶, è¦†ç›–å½“å‰ä¿®æ”¹ !
* Staged: æš‚å­˜çŠ¶æ€. æ‰§è¡Œgit commitåˆ™å°†ä¿®æ”¹åŒæ­¥åˆ°åº“ä¸­, è¿™æ—¶åº“ä¸­çš„æ–‡ä»¶å’Œæœ¬åœ°æ–‡ä»¶åˆå˜ä¸ºä¸€è‡´, æ–‡ä»¶ä¸ºUnmodifyçŠ¶æ€. æ‰§è¡Œgit reset HEAD filenameå–æ¶ˆæš‚å­˜, æ–‡ä»¶çŠ¶æ€ä¸ºModified


### å¸¸ç”¨å‘½ä»¤
1. åˆ›å»ºæ–°çš„ä»“åº“
`git init`
2. å…‹éš†è¿œç¨‹ä»“åº“
`git clone *[url]`
3. æŸ¥çœ‹æ–‡ä»¶çŠ¶æ€ 
`git status [filename]`
4. æ·»åŠ æ–‡ä»¶åˆ°æš‚å­˜åŒº
`git add [filename](.è¡¨ç¤ºå…¨éƒ¨æ–‡ä»¶)`
5. æäº¤åˆ°æœ¬åœ°ä»“åº“
`git commit -m "æ³¨é‡Šä¿¡æ¯"`
6. æäº¤åˆ°è¿œç¨‹ä»“åº“
`git push`


### å¿½ç•¥æ–‡ä»¶
åœ¨ä¸»ç›®å½•ä¸‹å»ºç«‹".gitignore"æ–‡ä»¶ï¼Œæ­¤æ–‡ä»¶æœ‰å¦‚ä¸‹è§„åˆ™ï¼š
å¿½ç•¥æ–‡ä»¶ä¸­çš„ç©ºè¡Œæˆ–ä»¥äº•å·ï¼ˆ#ï¼‰å¼€å§‹çš„è¡Œå°†ä¼šè¢«å¿½ç•¥ã€‚
å¯ä»¥ä½¿ç”¨Linuxé€šé…ç¬¦ã€‚ä¾‹å¦‚ï¼šæ˜Ÿå·ï¼ˆ*ï¼‰ä»£è¡¨ä»»æ„å¤šä¸ªå­—ç¬¦ï¼Œé—®å·ï¼ˆï¼Ÿï¼‰ä»£è¡¨ä¸€ä¸ªå­—ç¬¦ï¼Œæ–¹æ‹¬å·ï¼ˆ[abc]ï¼‰ä»£è¡¨å¯é€‰å­—ç¬¦èŒƒå›´ï¼Œå¤§æ‹¬å·ï¼ˆ{string1,string2,...}ï¼‰ä»£è¡¨å¯é€‰çš„å­—ç¬¦ä¸²ç­‰ã€‚
å¦‚æœåç§°çš„æœ€å‰é¢æœ‰ä¸€ä¸ªæ„Ÿå¹å·ï¼ˆ!ï¼‰ï¼Œè¡¨ç¤ºä¾‹å¤–è§„åˆ™ï¼Œå°†ä¸è¢«å¿½ç•¥ã€‚
å¦‚æœåç§°çš„æœ€å‰é¢æ˜¯ä¸€ä¸ªè·¯å¾„åˆ†éš”ç¬¦ï¼ˆ/ï¼‰ï¼Œè¡¨ç¤ºè¦å¿½ç•¥çš„æ–‡ä»¶åœ¨æ­¤ç›®å½•ä¸‹ï¼Œè€Œå­ç›®å½•ä¸­çš„æ–‡ä»¶ä¸å¿½ç•¥ã€‚
å¦‚æœåç§°çš„æœ€åé¢æ˜¯ä¸€ä¸ªè·¯å¾„åˆ†éš”ç¬¦ï¼ˆ/ï¼‰ï¼Œè¡¨ç¤ºè¦å¿½ç•¥çš„æ˜¯æ­¤ç›®å½•ä¸‹è¯¥åç§°çš„å­ç›®å½•ï¼Œè€Œéæ–‡ä»¶ï¼ˆé»˜è®¤æ–‡ä»¶æˆ–ç›®å½•éƒ½å¿½ç•¥ï¼‰ã€‚
```python
*.txt        #å¿½ç•¥æ‰€æœ‰ .txtç»“å°¾çš„æ–‡ä»¶,è¿™æ ·çš„è¯ä¸Šä¼ å°±ä¸ä¼šè¢«é€‰ä¸­ï¼
!lib.txt     #ä½†lib.txté™¤å¤–
/temp        #ä»…å¿½ç•¥é¡¹ç›®æ ¹ç›®å½•ä¸‹çš„TODOæ–‡ä»¶,ä¸åŒ…æ‹¬å…¶å®ƒç›®å½•temp
build/       #å¿½ç•¥build/ç›®å½•ä¸‹çš„æ‰€æœ‰æ–‡ä»¶
doc/*.txt    #ä¼šå¿½ç•¥ doc/notes.txt ä½†ä¸åŒ…æ‹¬ doc/server/arch.txt
```


### gitåˆ†æ”¯
è¿™éƒ¨åˆ†å¼•ç”¨ç‹‚ç¥çš„gitè¿›è¡Œè§£é‡Šã€‚
åˆ†æ”¯åœ¨GITä¸­ç›¸å¯¹è¾ƒéš¾ï¼Œåˆ†æ”¯å°±æ˜¯ç§‘å¹»ç”µå½±é‡Œé¢çš„å¹³è¡Œå®‡å®™ï¼Œå¦‚æœä¸¤ä¸ªå¹³è¡Œå®‡å®™äº’ä¸å¹²æ‰°ï¼Œé‚£å¯¹ç°åœ¨çš„ä½ ä¹Ÿæ²¡å•¥å½±å“ã€‚ä¸è¿‡ï¼Œåœ¨æŸä¸ªæ—¶é—´ç‚¹ï¼Œä¸¤ä¸ªå¹³è¡Œå®‡å®™åˆå¹¶äº†ï¼Œæˆ‘ä»¬å°±éœ€è¦å¤„ç†ä¸€äº›é—®é¢˜äº†ï¼
![branch_a](./img/git_img/branch_a.png)
![branch_b](./img/git_img/branch_b.png)

å¸¸ç”¨å‘½ä»¤
1. åˆ—å‡ºæ‰€æœ‰æœ¬åœ°åˆ†æ”¯
`git branch`
2. åˆ—å‡ºæ‰€æœ‰è¿œç¨‹åˆ†æ”¯
`git branch -r`
3. æ–°å»ºä¸€ä¸ªåˆ†æ”¯ï¼Œä½†ä¾ç„¶åœç•™åœ¨å½“å‰åˆ†æ”¯
`git branch [branch-name]`
4. æ–°å»ºä¸€ä¸ªåˆ†æ”¯ï¼Œå¹¶åˆ‡æ¢åˆ°è¯¥åˆ†æ”¯
`git checkout -b [branch]`
5. åˆå¹¶æŒ‡å®šåˆ†æ”¯åˆ°å½“å‰åˆ†æ”¯
`git merge [branch]`
6. åˆ é™¤åˆ†æ”¯
`git branch -d [branch-name]`
7. åˆ é™¤è¿œç¨‹åˆ†æ”¯
`git push origin --delete [branch-name]`
`git branch -dr [remote/branch]`



### gité…ç½®å‘½ä»¤
1. æŸ¥çœ‹Gité…ç½®
`git config -l == git config -list `
2. æŸ¥çœ‹æœ¬åœ°å…¨å±€é…ç½®,å¦‚ç”¨æˆ·åã€é‚®ç®±.
`git config --global --list`


### æ—¥å¸¸ä½¿ç”¨è®°å½•
1. å…³äºæç¤º`git push --set-upstream origin dev`çš„é—®é¢˜ã€‚â²ï¸2022-05-11

>è¿™æ˜¯ä½œè€…åœ¨æœ¬åœ°åˆ›å»ºäº†ä¸€ä¸ªæ–°çš„devåˆ†æ”¯æƒ³ç›´æ¥git pushåˆ°githubä¸Šé¢æ—¶è¿”å›çš„æç¤ºï¼Œç»è¿‡èµ„æ–™æŸ¥é˜…å¾—çŸ¥ï¼Œè¿™æ˜¯å› ä¸ºä½œè€…åŸä»“åº“ä»…å­˜åœ¨masteråˆ†æ”¯ï¼Œå¯¼è‡´æ— æ³•è¿½æº¯åˆ°æˆ‘æƒ³pushçš„devåˆ†æ”¯ï¼Œæ‰€ä»¥éœ€è¦set-upstream originï¼Œè¿™é‡Œçš„originè¡¨ç¤ºåˆ›å»º`git push origin xxx`è¡¨ç¤ºåˆ›å»ºxxxåˆ†æ”¯å¹¶ä¸Šä¼ ï¼Œset-upstreamè¡¨ç¤ºå…³è”åˆ°æ”¹åˆ†æ”¯ã€‚
ç»¼ä¸Šæ‰€è¿°ï¼Œ`git push --set-upstream origin dev`è¡¨ç¤ºåˆ›å»ºdevåˆ†æ”¯å¹¶è®¾ç½®ä¸ºä¸Šæ¸¸åˆ†æ”¯ã€‚
2. å…³äºåˆ†æ”¯devåŒæ­¥åˆ°masteråˆ†æ”¯ä¸­ã€‚â²ï¸2022-05-11
```
1. å…ˆåˆ‡æ¢åˆ°devåˆ†æ”¯ï¼Œgit checkout dev 
2. ç„¶åæ‹‰å–è¿œç¨‹devåˆ†æ”¯ä»£ç  git pull 
3. åˆ‡æ¢å›ä¸»åˆ†æ”¯ git checkout master
4. åˆå¹¶åˆ†æ”¯ git merge dev
5. ä¸Šä¼ åˆ°è¿œç¨‹ä»£ç  git push
```